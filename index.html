<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/webp" href="/media/logo.webp" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Schengen Appointment in Dubai | Schengen Agent Dubai</title>
    <meta
      name="description"
      content="Premium Schengen visa assistance for travelers and residents across the GCC & Middle East. Fast eligibility check, expert document prep, appointment booking, and end-to-end follow-up."
    />
    <meta name="robots" content="index,follow" />

    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="Your Gateway to Europe â€” Schengen Visa Made Simple"
    />
    <meta
      property="og:description"
      content="Fast, transparent, and expert-handled visa services with a high approval success rate."
    />

    <!-- Preconnect to external origins FIRST -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://api.emailjs.com" />
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/media/logo.webp" as="image" type="image/webp" fetchpriority="high" />
    
    <!-- DNS prefetch for non-critical origins -->
    <link rel="dns-prefetch" href="https://flagcdn.com" />
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />
    
    <!-- Critical CSS - inline for instant render -->
    <style>
      *,::before,::after{box-sizing:border-box;border:0 solid}
      html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:system-ui,-apple-system,sans-serif}
      body{margin:0;line-height:inherit;background:#020617}
      .min-h-dvh{min-height:100dvh}
      .min-h-screen{min-height:100vh}
      .antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
      .relative{position:relative}
      .absolute{position:absolute}
      .inset-0{inset:0}
      .fixed{position:fixed}
      .top-0{top:0}
      .left-0{left:0}
      .right-0{right:0}
      .z-50{z-index:50}
      .flex{display:flex}
      .items-center{align-items:center}
      .justify-between{justify-content:space-between}
      .justify-center{justify-content:center}
      .overflow-hidden{overflow:hidden}
      .h-full{height:100%}
      .w-full{width:100%}
      .object-cover{object-fit:cover}
      .bg-transparent{background-color:transparent}
      .text-white{color:#fff}
      .py-4{padding-top:1rem;padding-bottom:1rem}
      .pt-20{padding-top:5rem}
      .pb-12{padding-bottom:3rem}
      .gap-3{gap:.75rem}
      .hidden{display:none}
      .text-center{text-align:center}
      .font-bold{font-weight:700}
      .text-4xl{font-size:2.25rem;line-height:2.5rem}
      .text-lg{font-size:1.125rem;line-height:1.75rem}
      .mb-4{margin-bottom:1rem}
      .mb-6{margin-bottom:1.5rem}
      .max-w-4xl{max-width:56rem}
      .mx-auto{margin-left:auto;margin-right:auto}
      .px-4{padding-left:1rem;padding-right:1rem}
      @media(min-width:768px){
        .md\:flex{display:flex}
        .md\:hidden{display:none}
        .md\:text-5xl{font-size:3rem;line-height:1}
      }
      @media(min-width:1024px){
        .lg\:text-6xl{font-size:3.75rem;line-height:1}
      }
      /* Hero section critical styles */
      .hero-bg{background:linear-gradient(to bottom,rgba(2,6,23,0.7),rgba(2,6,23,0.5),rgba(2,6,23,0.8))}
      .gold-text{color:#fbbf24}
      .btn-gold{background:linear-gradient(135deg,#f59e0b,#d97706);color:#000;font-weight:600;padding:0.75rem 1.5rem;border-radius:9999px;text-decoration:none;display:inline-flex;align-items:center;gap:0.5rem}
    </style>
    
    <!-- Fonts loaded async - not render blocking -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    />
    <noscript>
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    </noscript>
  </head>
  <body>
    <!-- Google Tag Manager - Define tracking functions BEFORE React loads -->
    <script>
      (function() {
        'use strict';
        
        // Initialize dataLayer
        window.dataLayer = window.dataLayer || [];
        
        // gtag function - works even before script loads
        function gtag() {
          window.dataLayer.push(arguments);
        }
        window.gtag = gtag;
        
        // Track script loading state
        var gtagScriptLoaded = false;
        var gtagInitialized = false;
        var pendingCallbacks = [];
        
        // Load Google Tag Manager script
        function loadGtagScript(callback) {
          // If already initialized, run callback immediately
          if (gtagInitialized) {
            if (callback) callback();
            return;
          }
          
          // If callback provided, add to pending
          if (callback) {
            pendingCallbacks.push(callback);
          }
          
          // If script already loading, wait for it
          if (gtagScriptLoaded) {
            return;
          }
          
          gtagScriptLoaded = true;
          
          var script = document.createElement('script');
          script.src = 'https://www.googletagmanager.com/gtag/js?id=AW-17559713406';
          script.async = true;
          
          script.onload = function() {
            // Initialize gtag
            gtag('js', new Date());
            gtag('config', 'AW-17559713406');
            gtagInitialized = true;
            
            // Run all pending callbacks
            for (var i = 0; i < pendingCallbacks.length; i++) {
              try {
                pendingCallbacks[i]();
              } catch (e) {
                console.error('GTM callback error:', e);
              }
            }
            pendingCallbacks = [];
          };
          
          script.onerror = function() {
            console.error('Failed to load Google Tag Manager');
            gtagScriptLoaded = false;
          };
          
          document.head.appendChild(script);
        }
        
        // Expose loadGtag globally
        window.loadGtag = loadGtagScript;
        
        // Track Form Submit Conversion
        window.trackFormSubmit = function() {
          loadGtagScript(function() {
            gtag('event', 'conversion', {
              'send_to': 'AW-17559713406/R3Z-CN-B9ZsbEP7sj7VB',
              'value': 1.0,
              'currency': 'AED'
            });
          });
        };
        
        // Track Call Click Conversion
        window.trackCallClick = function() {
          loadGtagScript(function() {
            gtag('event', 'conversion', {
              'send_to': 'AW-17559713406/UgLECOroiJwbEP7sj7VB',
              'value': 1.0,
              'currency': 'AED'
            });
          });
        };
        
        // Track WhatsApp Click Conversion
        window.trackWhatsAppClick = function() {
          loadGtagScript(function() {
            gtag('event', 'conversion', {
              'send_to': 'AW-17559713406/UKSfCO-O9ZsbEP7sj7VB',
              'value': 1.0,
              'currency': 'AED'
            });
          });
        };
        
        // Auto-load gtag after 5 seconds (for page view tracking)
        // Uses requestIdleCallback for better performance, falls back to setTimeout
        function scheduleGtagLoad() {
          if ('requestIdleCallback' in window) {
            setTimeout(function() {
              requestIdleCallback(function() {
                loadGtagScript();
              }, { timeout: 10000 });
            }, 5000);
          } else {
            setTimeout(loadGtagScript, 5000);
          }
        }
        
        // Start the delayed load
        scheduleGtagLoad();
        
      })();
    </script>

    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
